---
title: 执行上下文
date: 2017-11-12 16:53:25
tags: 执行上下文栈
categories: Web前端知识
description:
---

当 JavaScript 代码执行一段可执行代码(executable code)时，会创建对应的执行上下文(execution context)。

对每个执行上下文，都有三个重要属性：
- 变量对象(Variable object，VO)
- 作用域链(Scope chain)
- this

可执行代码类型：
- 全局代码  （函数外面的代码）
- 函数代码  
- eval 代码 （eval 函数中写的代码）

当执行一个函数时，会进行 **“准备工作”** ——专业点称为——： **“执行上下文”**。

JavaScript 引擎创建了 **执行上下文栈** ，以便于管理执行上下文。

为了模拟执行上下文栈的行为，将它定义为一个数组：
```
Stack = [];
```

当JavaScript开始执行解释代码时，会遇到全局代码，所以初始化时，会像数组中推入 “全局代码” ，并且只有当整个应用程序结束后，才会清空 `Stack` ，删除前的最底部总有个全局代码。

当执行一个函数的时候，会创建一个执行上下文，并且推入执行上下文栈中，当函数执行完毕时，就会将函数的执行上下文从栈中弹出。

如果出现嵌套函数并调用的话，那么会一起随后推入到栈中。然后等运行结束，按顺序弹出。



